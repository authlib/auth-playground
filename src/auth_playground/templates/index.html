{% extends "layout.html" %}

{% block content %}
    <section>
        <p>
            Sign in to explore OAuth 2.0 and OpenID Connect flows.
            Test registration, authentication, token refresh, and logout operations.
        </p>
    </section>

    {% if g.server_config and g.server_config.registration_access_token %}
        <div class="buttons-right">
            <form method="POST" action="{{ url_for('routes.unregister_client') }}">
                {{ unregister_form.hidden_tag() }}
                {{ unregister_form.submit() }}
            </form>
        </div>
    {% endif %}

    {% if session.token %}
        {% include "authenticated.html" %}
    {% else %}
        <div class="buttons-right">
            <div role="group">
                {% if g.server_config and g.server_config.specs and g.server_config.specs.oidc_prompt_create %}
                    <a href="{{ url_for('routes.register') }}" role="button">Sign up</a>
                {% endif %}
                <a href="{{ url_for('routes.login') }}" role="button">Sign in</a>
            </div>
        </div>
    {% endif %}
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/copy-token.js') }}"></script>
{% endblock %}
